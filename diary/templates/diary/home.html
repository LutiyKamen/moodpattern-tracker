{% extends 'diary/base.html' %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - MoodPattern Tracker{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
        <div class="card text-center">
            <div class="card-body py-5">
                <h1 class="display-4 mb-4">üìù MoodPattern Tracker</h1>
                <p class="lead mb-4">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–≤–æ—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –Ω–∞—Ö–æ–¥–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏ —É–ª—É—á—à–∞–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</p>

                {% if not user.is_authenticated %}
                <div class="mt-4">
                    <a href="{% url 'register' %}" class="btn btn-primary btn-lg me-3">–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ</a>
                    <a href="{% url 'login' %}" class="btn btn-outline-primary btn-lg">–í–æ–π—Ç–∏</a>
                </div>
                {% else %}
                <div class="mt-4">
                    <a href="{% url 'dashboard' %}" class="btn btn-primary btn-lg">–ü–µ—Ä–µ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
        <div class="row mt-4">
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <div class="display-6 mb-3">üìä</div>
                        <h5 class="card-title">–ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</h5>
                        <p class="card-text">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤–∞—à–∏—Ö –∑–∞–ø–∏—Å–µ–π —Å –ø–æ–º–æ—â—å—é NLP</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <div class="display-6 mb-3">üîç</div>
                        <h5 class="card-title">–ü–æ–∏—Å–∫ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤</h5>
                        <p class="card-text">–í—ã—è–≤–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ –≤–∞—à–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <div class="display-6 mb-3">üìà</div>
                        <h5 class="card-title">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h5>
                        <p class="card-text">–ì—Ä–∞—Ñ–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏–∫–∏</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –î–µ–º–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="card mt-4">
            <div class="card-header">
                <h4 class="mb-0">–ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</h4>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-4">
                        <h3>{{ demo_data.total_entries|default:"1250" }}</h3>
                        <p class="text-muted">–≤—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π</p>
                    </div>
                    <div class="col-md-4">
                        <h3 class="mood-positive">+{{ demo_data.avg_mood|default:"0.35" }}</h3>
                        <p class="text-muted">—Å—Ä–µ–¥–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</p>
                    </div>
                    <div class="col-md-4">
                        <h3>{{ demo_data.top_triggers|length|default:"3" }}</h3>
                        <p class="text-muted">–æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç—Ä–∏–≥–≥–µ—Ä–∞</p>
                    </div>
                </div>

                {% if demo_data.top_triggers %}
                <div class="mt-4">
                    <h5>–¢–æ–ø-—Ç—Ä–∏–≥–≥–µ—Ä—ã:</h5>
                    <div class="list-group">
                        {% for trigger in demo_data.top_triggers %}
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            {{ trigger.word }}
                            <span class="badge {% if trigger.correlation > 0 %}bg-success{% else %}bg-danger{% endif %} rounded-pill">
                                {{ trigger.correlation|floatformat:2 }}
                            </span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}